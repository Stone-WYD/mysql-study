{"objectClass":"NSDictionary","root":{"objectClass":"MindNode","ID":"7266U","children":{"0":{"objectClass":"MindNode","ID":"30726","children":{"0":{"objectClass":"MindNode","ID":"O2G32","children":{"0":{"objectClass":"MindNode","ID":"HX5UB","text":"同一个id下有多条记录，在前面的表是驱动表，后面的是被驱动表"},"1":{"objectClass":"MindNode","ID":"3LZWN","text":"select语句可能被优化为连接查询（半连接），这样查出的多条记录id是可能会相同的"},"2":{"objectClass":"MindNode","ID":"2BWI1","text":"使用union会多一条id为null的记录，使用union all则不会"},"objectClass":"NSArray"},"text":"id","shrink":true,"remark":"在一个大的查询语句中，每个SELECT\n关键字都对应一个唯一的 id","remarkDisplay":true},"1":{"objectClass":"MindNode","ID":"O2UT6","children":{"0":{"objectClass":"MindNode","ID":"J2238","children":{"0":{"objectClass":"MindNode","ID":"D350M","text":"不包括子查询，没有union"},"1":{"objectClass":"MindNode","ID":"8P1MN","text":"连接查询"},"objectClass":"NSArray"},"text":"SIMPLE"},"1":{"objectClass":"MindNode","ID":"WVKL7","children":{"0":{"objectClass":"MindNode","ID":"64906","text":"对包含union、union all或者子查询的大查询来说。最外面（左边）的查询是PRIMARY"},"objectClass":"NSArray"},"text":"PRIMARY"},"2":{"objectClass":"MindNode","ID":"S1DUC","children":{"0":{"objectClass":"MindNode","ID":"5OFP3","text":"uino中与PRIMARY相对应的非PRIMARY查询就是UNION查询"},"objectClass":"NSArray"},"text":"UNION"},"3":{"objectClass":"MindNode","ID":"628HH","children":{"0":{"objectClass":"MindNode","ID":"NVFR6","text":"对使用union去重建立的临时表的查询"},"objectClass":"NSArray"},"text":"UNION RESULT"},"4":{"objectClass":"MindNode","ID":"78PWK","children":{"0":{"objectClass":"MindNode","ID":"142JQ","text":"不相关子查询"},"1":{"objectClass":"MindNode","ID":"4E558","text":"物化表"},"2":{"objectClass":"MindNode","ID":"36695","text":"该子查询只需要查询一遍"},"objectClass":"NSArray"},"text":"SUBQUERY"},"5":{"objectClass":"MindNode","ID":"3KV6E","children":{"0":{"objectClass":"MindNode","ID":"DI1O1","text":"相关子查询"},"1":{"objectClass":"MindNode","ID":"MHOG4","text":"物化表"},"2":{"objectClass":"MindNode","ID":"0YKZ2","text":"该子查询需要被执行多遍"},"objectClass":"NSArray"},"text":"DEPENDENT SUBQUERY"},"6":{"objectClass":"MindNode","ID":"BUN12","children":{"0":{"objectClass":"MindNode","ID":"GH1B7","text":"union中"},"1":{"objectClass":"MindNode","ID":"1W8BV","text":"相关子查询，物化表"},"objectClass":"NSArray"},"text":"DEPENDENT UNION"},"7":{"objectClass":"MindNode","ID":"H2D56","children":{"0":{"objectClass":"MindNode","ID":"552P8","text":"物化派生表查询（派生表：from中的子查询）","maxWidthLine":318.53125},"objectClass":"NSArray"},"text":"DERIVED"},"8":{"objectClass":"MindNode","ID":"7D3CV","children":{"0":{"objectClass":"MindNode","ID":"Y877R","text":"物化子查询"},"1":{"objectClass":"MindNode","ID":"BY67K","text":"将子查询与外层查询连接查询"},"objectClass":"NSArray"},"text":"MATERIALIZED"},"9":{"objectClass":"MindNode","ID":"1513Q","text":"UNCACHEABLE SUBQUERY、UNCACHEABLE UNION不常用，略","maxWidthLine":468.984375},"objectClass":"NSArray"},"text":"select_type","shrink":true,"remark":"SELECT关键字对应的查询类型，\nSELECT查询之间的关系","remarkDisplay":true},"2":{"objectClass":"MindNode","ID":"DUT3B","children":{"0":{"objectClass":"MindNode","ID":"7S4EE","text":"单表查询对应查询的表表，多表查询explain有多条记录，一条记录表示一个单表查询"},"objectClass":"NSArray"},"text":"table","shrink":true,"remark":"表名","remarkDisplay":true},"3":{"objectClass":"MindNode","ID":"1A0KE","text":"partition","remark":"匹配的分区信息","remarkDisplay":true},"4":{"objectClass":"MindNode","ID":"HT01U","children":{"0":{"objectClass":"MindNode","ID":"GA58G","children":{"0":{"objectClass":"MindNode","ID":"30664","text":"表中只有一条记录，统计数据是精确的"},"objectClass":"NSArray"},"text":"system"},"1":{"objectClass":"MindNode","ID":"61QH5","children":{"0":{"objectClass":"MindNode","ID":"CWJRE","text":"使用主键或唯一二级索引与\n常数进行等值匹配查询"},"objectClass":"NSArray"},"text":"const"},"2":{"objectClass":"MindNode","ID":"2W9MF","children":{"0":{"objectClass":"MindNode","ID":"4WJ2P","text":"连接查询中的被驱动表通过主键或不为null的唯一二级索引列进行等值匹配"},"objectClass":"NSArray"},"text":"eq_ref"},"3":{"objectClass":"MindNode","ID":"3VB21","children":{"0":{"objectClass":"MindNode","ID":"51O11","text":"普通二级索引与常量进行等值匹配"},"1":{"objectClass":"MindNode","ID":"1AS1E","text":"连接查询中被驱动表通过普通二级索引与驱动表中某个列进行等值匹配，被驱动表也可能是ref方法"},"objectClass":"NSArray"},"text":"ref"},"4":{"objectClass":"MindNode","ID":"4TYU1","children":{"0":{"objectClass":"MindNode","ID":"Q17QK","text":"全文索引"},"objectClass":"NSArray"},"text":"fulltext"},"5":{"objectClass":"MindNode","ID":"8DSQ1","children":{"0":{"objectClass":"MindNode","ID":"UZFF1","text":"普通二级索引等值匹配且索引列值可以为null"},"objectClass":"NSArray"},"text":"ref_or_null"},"6":{"objectClass":"MindNode","ID":"WEB52","children":{"0":{"objectClass":"MindNode","ID":"N6KGU","text":"使用了Intersection、Union、Sort-Union三种索引合并来查询的情况"},"objectClass":"NSArray"},"text":"index_merge"},"7":{"objectClass":"MindNode","ID":"U83T1","children":{"0":{"objectClass":"MindNode","ID":"U823X","text":"in转为exists"},"1":{"objectClass":"MindNode","ID":"R5LH6","text":"exists子查询中where中有主键的条件"},"objectClass":"NSArray"},"text":"unique _ subquery"},"8":{"objectClass":"MindNode","ID":"3ZH57","children":{"0":{"objectClass":"MindNode","ID":"2557B","text":"in转为exists"},"1":{"objectClass":"MindNode","ID":"1FU2P","text":"exists子查询中where中有二级索引的条件"},"objectClass":"NSArray"},"text":"index_subquery","style2":{"objectClass":"NSDictionary","fontSize":0,"underline":0}},"9":{"objectClass":"MindNode","ID":"28N61","children":{"0":{"objectClass":"MindNode","ID":"KGO8H","text":"使用索引获得某些单点扫描区间或者范围区间"},"objectClass":"NSArray"},"text":"range"},"10":{"objectClass":"MindNode","ID":"9135S","children":{"0":{"objectClass":"MindNode","ID":"N04R2","text":"索引覆盖，但需要扫描全部的索引"},"1":{"objectClass":"MindNode","ID":"XU682","text":"全表扫描且要按照主键排序"},"objectClass":"NSArray"},"text":"index"},"11":{"objectClass":"MindNode","ID":"40K1Z","children":{"0":{"objectClass":"MindNode","ID":"U1Y1D","text":"全表扫描"},"objectClass":"NSArray"},"text":"all"},"objectClass":"NSArray"},"text":"type","shrink":true,"remark":"针对单表的访问方法","remarkDisplay":true},"5":{"objectClass":"MindNode","ID":"D1542","text":"possible_key","remark":"可能用到的索引","remarkDisplay":true},"6":{"objectClass":"MindNode","ID":"5IP2Z","text":"key","remark":"实际用到的索引","remarkDisplay":true},"7":{"objectClass":"MindNode","ID":"3O46R","children":{"0":{"objectClass":"MindNode","ID":"B0437","text":"对于联合索引，如果只是用了部分索引字段，那么长度就是部分索引字段和，而不是整个索引长度"},"objectClass":"NSArray"},"text":"key_len","shrink":true,"remark":"实际使用的索引长度","remarkDisplay":true},"8":{"objectClass":"MindNode","ID":"8UP00","children":{"0":{"objectClass":"MindNode","ID":"56G45","text":"当访问方法是const、eq_ref、ref、ref_or_null、unique_subquery、index_subquery中的一个时"},"1":{"objectClass":"MindNode","ID":"TI5TX","text":"用来确定与索引列进行\n等值匹配的是什么"},"objectClass":"NSArray"},"text":"ref","shrink":true,"remark":"当使用索引列等值查询时，与索\n引列进行等值匹配的对象信息","remarkDisplay":true},"9":{"objectClass":"MindNode","ID":"FGTL3","text":"rows","remark":"预估需要读取的记录条数","remarkDisplay":true},"10":{"objectClass":"MindNode","ID":"31703","text":"filtered","remark":"针对预估的需要读取的记录，经过搜索\n条件过滤后剩余记录条数的百分比","remarkDisplay":true},"11":{"objectClass":"MindNode","ID":"F0E7D","children":{"0":{"objectClass":"MindNode","ID":"K581V","text":"Using index使用索引覆盖"},"1":{"objectClass":"MindNode","ID":"R484X","children":{"0":{"objectClass":"MindNode","ID":"K9C2U","text":"select * from s1 where key1>'z'\nand key1 like '%a';"},"1":{"objectClass":"MindNode","ID":"591IO","text":"正常来说步骤是：存储引擎根据key1>'z' 找到找到记录返回给服务层，服务层再判断 \"key1 like '%a' \"的条件"},"2":{"objectClass":"MindNode","ID":"H21K6","text":"索引条件下推：将\"key1 like '%a' \"的条件一起交给存储引擎层来判断"},"objectClass":"NSArray"},"text":"Using index condition \n使用了索引条件下推"},"2":{"objectClass":"MindNode","ID":"UCLO1","text":"Using where 某个条件需要\n在server层进行判断"},"3":{"objectClass":"MindNode","ID":"5NNX2","text":"Using join buffer (Block Nested Loop)：\nMySQL对不能有效利用索引连接表时使用的优化措施"},"4":{"objectClass":"MindNode","ID":"72454","text":"Using filesort"},"5":{"objectClass":"MindNode","ID":"KA2TS","text":"Using temporary 建立临时表（不是好的征兆）","maxWidthLine":333.8125},"6":{"objectClass":"MindNode","ID":"3P4M7","children":{"0":{"objectClass":"MindNode","ID":"U638R","text":"Start temporary 和 End temporary:\n使用去重方式建立半连接"},"1":{"objectClass":"MindNode","ID":"V77Q6","text":"LooseScan：使用松散扫描方式建立半连接"},"2":{"objectClass":"MindNode","ID":"6EIQ4","text":"FirstMatch: 首次查询方式建立半连接"},"objectClass":"NSArray"},"text":"半连接相关"},"objectClass":"NSArray"},"text":"Extra","remark":"一些额外信息","remarkDisplay":true},"objectClass":"NSArray"},"text":"EXPLAIN 输出列含义","shrink":true},"1":{"objectClass":"MindNode","ID":"469J4","children":{"0":{"objectClass":"MindNode","ID":"JL6QL","text":"EXPLAIN和查询语句中间加上\nFORMAT = JSON"},"1":{"objectClass":"MindNode","ID":"IHLJ1","text":"会详细加入各种优化，以及成本分析"},"objectClass":"NSArray"},"text":"JSON格式的执行计划","shrink":true},"2":{"objectClass":"MindNode","ID":"1SW6U","children":{"0":{"objectClass":"MindNode","ID":"8KRD2","text":"输入EXPLAIN后在输入\nSHOW WARNINGS"},"1":{"objectClass":"MindNode","ID":"53X3X","children":{"0":{"objectClass":"MindNode","ID":"EOQF2","text":"Message展示类似于优化器优化后重写的sql语句"},"objectClass":"NSArray"},"text":"Code: 1003"},"objectClass":"NSArray"},"text":"Extended EXPLAIN ","shrink":true},"objectClass":"NSArray"},"text":"EXPLAIN详f"},"ID":"NMZ7Z","style":100,"lineKeepThin":true}