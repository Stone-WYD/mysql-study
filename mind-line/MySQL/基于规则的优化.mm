{"objectClass":"NSDictionary","root":{"objectClass":"MindNode","ID":"Z3ML3","children":{"0":{"objectClass":"MindNode","ID":"LHEW7","children":{"0":{"objectClass":"MindNode","ID":"X16OA","text":"移除不必要的括号"},"1":{"objectClass":"MindNode","ID":"GR0Z6","text":"常量传递","remark":"and条件连接使用","remarkDisplay":true},"2":{"objectClass":"MindNode","ID":"6W31V","text":"移除没用的条件"},"3":{"objectClass":"MindNode","ID":"43RY0","text":"表达式计算"},"4":{"objectClass":"MindNode","ID":"N8ECP","text":"HAVING 子句和 WHERE 子句的合并","remark":"如果查询语句中没有出现诸如 SUM、MAX 这样的聚集函数以及 GROUP BY 子句,查询化器就把 HAVlNG 子句和 WHERE 子句合并起来.","remarkDisplay":true},"5":{"objectClass":"MindNode","ID":"VBY5G","text":"常量表检测"},"objectClass":"NSArray"},"text":"条件化简","shrink":true},"1":{"objectClass":"MindNode","ID":"0LUF1","children":{"0":{"objectClass":"MindNode","ID":"UTTG8","text":"where子句的条件中，显示或隐式\n表明被驱动表不为null时（空拒绝）"},"objectClass":"NSArray"},"text":"外连接消除"},"2":{"objectClass":"MindNode","ID":"38KYL","children":{"0":{"objectClass":"MindNode","ID":"B86L6","children":{"0":{"objectClass":"MindNode","ID":"RF299","children":{"0":{"objectClass":"MindNode","ID":"2P1HE","text":"标量子查询","remark":"返回一个值","remarkDisplay":true},"1":{"objectClass":"MindNode","ID":"73738","children":{"0":{"objectClass":"MindNode","ID":"08OM2","text":"eg: select * from t1 where (m1, n1) = (\n select m2, n2 from t2 limit 1 )"},"objectClass":"NSArray"},"text":"行子查询","remark":"返回一条记录","remarkDisplay":true},"2":{"objectClass":"MindNode","ID":"DPD0O","text":"列子查询","remark":"返回一个列但多行记录","remarkDisplay":true},"3":{"objectClass":"MindNode","ID":"G76Y5","text":"表子查询","remark":"返回多列多行记录","remarkDisplay":true},"objectClass":"NSArray"},"text":"按返回结果集区分子查询","shrink":true},"1":{"objectClass":"MindNode","ID":"4N7PP","lineColor":"#836FFF","children":{"0":{"objectClass":"MindNode","ID":"DK66P","text":"不相关"},"1":{"objectClass":"MindNode","ID":"463T1","text":"相关"},"objectClass":"NSArray"},"text":"按与外层查询关系区分子查询"},"objectClass":"NSArray"},"text":"子查询分类","shrink":true},"1":{"objectClass":"MindNode","ID":"43162","lineColor":"#B3EE3A","children":{"0":{"objectClass":"MindNode","ID":"NS3AB","text":"使用= 、>、<、>=、<=、<>、!=、<=>作为布尔表达式的操作符"},"1":{"objectClass":"MindNode","ID":"2K3EW","children":{"0":{"objectClass":"MindNode","ID":"NRCTT","text":"SELECT * FROH t1 WHERE (m1 , n1) IN (SELECT m2 , n2 FROM t2) ;"},"1":{"objectClass":"MindNode","ID":"KX4YK","text":"SELECT * FROM t1 WHERE m1 > ANY (SELECT m2 FROM t2);"},"2":{"objectClass":"MindNode","ID":"57VI8","text":"SELECT * FROM t1 WBERE m1 > ALL(SELECT m2 FROM t2);"},"objectClass":"NSArray"},"text":"[NOT] IN/ANY/SOME/ALL 子查询"},"2":{"objectClass":"MindNode","ID":"QQ3JU","text":"EXISTS 子查询"},"objectClass":"NSArray"},"text":"子查询在布尔表达式中的使用","shrink":true},"2":{"objectClass":"MindNode","ID":"43W29","lineColor":"#FF8C00","children":{"0":{"objectClass":"MindNode","ID":"DWD6Z","lineColor":"#DC306C","children":{"0":{"objectClass":"MindNode","ID":"N7712","children":{"0":{"objectClass":"MindNode","ID":"882MZ","text":"select 子句"},"1":{"objectClass":"MindNode","ID":"28Y94","text":"子查询使用=、>、<、 >=、<=、<>、!=、<=>等操作符和某个操作数组成一个布尔表\n达式"},"objectClass":"NSArray"},"text":"使用情况"},"1":{"objectClass":"MindNode","ID":"955ES","children":{"0":{"objectClass":"MindNode","ID":"8LFPT","text":"单独执行子查询"},"1":{"objectClass":"MindNode","ID":"8KV7K","text":"将子查询结果作为外查询参数进行查询"},"objectClass":"NSArray"},"text":"不相关查询"},"2":{"objectClass":"MindNode","ID":"HHGBN","children":{"0":{"objectClass":"MindNode","ID":"8P2V6","text":"外查询取一条记录"},"1":{"objectClass":"MindNode","ID":"9I29G","text":"作为子查询中相关条件参数的值"},"2":{"objectClass":"MindNode","ID":"I5630","text":"得出子查询结果后作为外查询的\n参数值再判断"},"3":{"objectClass":"MindNode","ID":"ZX4HE","text":"循环前三步"},"objectClass":"NSArray"},"text":"相关查询"},"objectClass":"NSArray"},"text":"标量子查询、行子查询的执行方式","shrink":true},"1":{"objectClass":"MindNode","ID":"45689","lineColor":"#BF58F5","children":{"0":{"objectClass":"MindNode","ID":"QIRV3","lineColor":"#26BBFF","children":{"0":{"objectClass":"MindNode","ID":"5561U","text":"将子查询的结果放入一个临时表中（会去\n重）放在内存中，表太大时会放入磁盘中","remark":"会根据所有列建立联合索引，放入内存中时的\n索引是哈希索引","remarkDisplay":true},"1":{"objectClass":"MindNode","ID":"C7X1H","children":{"0":{"objectClass":"MindNode","ID":"8M0IN","text":"判断使用不同驱动表时的成本"},"1":{"objectClass":"MindNode","ID":"U3O8G","text":"选择最佳方案"},"objectClass":"NSArray"},"text":"物化表转连接"},"2":{"objectClass":"MindNode","ID":"B8935","children":{"0":{"objectClass":"MindNode","ID":"8TXY7","children":{"0":{"objectClass":"MindNode","ID":"2G355","text":"子查询跟外查询通过子查询的搜索\n列和外查询的 in 条件列连接起来"},"1":{"objectClass":"MindNode","ID":"5L841","text":"子查询查出的数据不重复"},"objectClass":"NSArray"},"text":"半连接含义"},"1":{"objectClass":"MindNode","ID":"32YL2","children":{"0":{"objectClass":"MindNode","ID":"LUA3C","text":"子查询上拉：子查询中的\n查询列是主键或唯一索引"},"1":{"objectClass":"MindNode","ID":"35ST4","text":"重复值消除：建立存放子查询主键\n的临时表用来消除重复列"},"2":{"objectClass":"MindNode","ID":"5DHY4","text":"松散扫描：子查询列是索引，子查询作为驱动表查重复数据的第一条去和作为被驱动表的外查询做比较"},"3":{"objectClass":"MindNode","ID":"2766V","text":"物化表实际也是一种半连接实现方式，因为物化过程会去重"},"4":{"objectClass":"MindNode","ID":"6O3EQ","text":"首次匹配：外查询循环比较内查询记录"},"objectClass":"NSArray"},"text":"半连接实现方式","remark":"避免查出重复数据","remarkDisplay":true},"objectClass":"NSArray"},"text":"子查询转半连接(没有物化表)","remark":"MySQL没有提供面向用户的半连接语法","remarkDisplay":true},"objectClass":"NSArray"},"text":"不相关查询"},"1":{"objectClass":"MindNode","ID":"EI253","children":{"0":{"objectClass":"MindNode","ID":"4MMVL","text":"相关查询可以很容易地转为半连接"},"1":{"objectClass":"MindNode","ID":"ZROB8","text":"实现方式DuplicateWeedout(重复值消除)、LooseScan(松散列扫描)、FirstMatch(首次匹配)等"},"objectClass":"NSArray"},"text":"相关查询"},"2":{"objectClass":"MindNode","ID":"O183U","lineColor":"#37C45A","children":{"0":{"objectClass":"MindNode","ID":"SQF2W","children":{"0":{"objectClass":"MindNode","ID":"543WV","text":"子查询在where或者on中"},"1":{"objectClass":"MindNode","ID":"1IAV4","text":"子查询是个单一查询，不能用union连接起来"},"2":{"objectClass":"MindNode","ID":"Y10UK","text":"子查询不能包含group by、having"},"3":{"objectClass":"MindNode","ID":"QY7Y1","text":"外查询可以用 and 连接条件"},"objectClass":"NSArray"},"text":"适用条件"},"1":{"objectClass":"MindNode","ID":"EK14W","children":{"0":{"objectClass":"MindNode","ID":"HS49E","text":"外查询不能用or连接条件"},"1":{"objectClass":"MindNode","ID":"W2017","text":"外查询不能使用 not in"},"2":{"objectClass":"MindNode","ID":"J8BY7","text":"与适用条件相反的情况"},"objectClass":"NSArray"},"text":"不适用条件"},"2":{"objectClass":"MindNode","ID":"KI2WV","children":{"0":{"objectClass":"MindNode","ID":"8OKF6","text":"先物化再查询"},"1":{"objectClass":"MindNode","ID":"ML2IX","children":{"0":{"objectClass":"MindNode","ID":"677A4","text":"如果子查询不满足转换为半连接的条件，又不能转换为物化表，或者转换为物化表的成本太高，那么它就会被转换为 EXISTS 子查询."},"objectClass":"NSArray"},"text":"把 in 转化为 exists"},"objectClass":"NSArray"},"text":"不适用时的优化"},"objectClass":"NSArray"},"text":"半连接"},"objectClass":"NSArray"},"text":"IN子查询优化"},"2":{"objectClass":"MindNode","ID":"1LJZ3","lineColor":"#26BBFF","text":"ANY/ALL 子查询优化","remark":"很容易转换为带 MAX 或者 MIN 的形式","remarkDisplay":true},"3":{"objectClass":"MindNode","ID":"FNM3G","text":"[NOT] EXISTS 子查询的执行"},"4":{"objectClass":"MindNode","ID":"IFTY0","lineColor":"#B22222","children":{"0":{"objectClass":"MindNode","ID":"26X34","text":"派生表物化（会延时到使用时才物化）"},"1":{"objectClass":"MindNode","ID":"4WFG8","text":"派生表和物化表的合并","remark":"派生表中使用聚合函数，或者 Distinct、Group by、Having、Limit、Union或者Union all 时无法合并","remarkDisplay":true},"objectClass":"NSArray"},"text":"对派生表的优化"},"objectClass":"NSArray"},"text":"子查询在MySQL中是怎么运行的","style2":{"objectClass":"NSDictionary","color":"#000000"}},"objectClass":"NSArray"},"text":"子查询优化"},"objectClass":"NSArray"},"text":"基于规则的优化"},"ID":"F9W7M","style":100,"lineKeepThin":true}